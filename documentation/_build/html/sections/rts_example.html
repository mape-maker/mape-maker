
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Using rts_gmlc data file as input for MapeMaker &#8212; Mape_Maker 0.9 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Unit Tests" href="unittest_example.html" />
    <link rel="prev" title="Second File Example" href="second_file_example.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="using-rts-gmlc-data-file-as-input-for-mapemaker">
<h1>Using rts_gmlc data file as input for MapeMaker<a class="headerlink" href="#using-rts-gmlc-data-file-as-input-for-mapemaker" title="Permalink to this headline">¶</a></h1>
<p>MapeMaker can be used with rts_gmlc data files found on their github website. The data files need to be
processed into the required 3 columns format - datetime, actuals, and forecasts.
We use “process_RTS_GMLC_data_s.py” file for this.
Here is a step-by-step explanation:</p>
<ol class="arabic simple">
<li>Git clone the rts_gmlc data files to your working directory. (The link might be updated, please modify it accordingly)</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">GridMod</span><span class="o">/</span><span class="n">RTS</span><span class="o">-</span><span class="n">GMLC</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
<p>2. Now use the process_RTS_GMLC_data_s.py file to process the data in the required format for MapeMaker.
First, cd to the directory with the program:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">mape_maker</span><span class="o">/</span><span class="n">samples</span><span class="o">/</span><span class="n">rts_gmlc</span><span class="o">/</span>
</pre></div>
</div>
<p>Then, you can run the python script as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">process_RTS_GMLC_data_s</span><span class="o">.</span><span class="n">py</span> <span class="n">timeseries_path</span> <span class="n">source_path</span> <span class="n">write_path</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><strong>timeseries_path</strong>:
location of the timeseries_data_files directory (e.g. “RTS-GMLC/RTS_Data/timeseries_data_files/”)</li>
<li><strong>source_path</strong>:
location of the SourceData directory (e.g. “RTS-GMLC/RTS_Data/SourceData/”)</li>
<li><strong>write_path</strong>:
location of an existing directory you want to store the processed files in (e.g. “my_rts_gmlc”)</li>
</ul>
<p>After running the python script, the write_path will contain all csv and txt files for all the timeseries data files processed by buses, zones, and aggregated together over all the zones.
The csv files can be used as input to MapeMaker to get the desired scenarios.</p>
<p>3. Some of the rts_gmlc data files entries have a lot more than acceptable errors. If you want to modify the data based on a threshold,
such that if the absolute relative error for a particular datetime is higher than the threshold, change the forecast so that
the absolute relative error for that datetime equals threshold. In order to adapt you data file go to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">mape_maker</span><span class="o">/</span><span class="n">samples</span><span class="o">/</span><span class="n">based_rts_gmlc</span><span class="o">/</span>
</pre></div>
</div>
<p>Then, you can run the python script as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">process_based_on_RTS_GMLC</span><span class="o">.</span><span class="n">py</span> <span class="n">source_path</span> <span class="n">write_path</span> <span class="n">threshold</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><strong>source_path</strong>:
location of the timeseries_data_files directory (e.g. “RTS-GMLC/RTS_Data/timeseries_data_files/”)</li>
<li><strong>write_path</strong>:
location of an existing directory you want to store the processed files in (e.g. “adapted_rts_gmlc”)</li>
<li><strong>threshold</strong>:
the value used to modify the dataset if needed</li>
</ul>
<p>After running the python script, the write_path will contain the processed csv file that can be used as input
to MapeMaker to get the desired scenarios.</p>
<p>For convenience, we will use the adapted rts_gmlc data files. Here are some examples.</p>
<div class="section" id="example-1-wind-forecasts-actuals-csv">
<h2>Example 1 - WIND_forecasts_actuals.csv<a class="headerlink" href="#example-1-wind-forecasts-actuals-csv" title="Permalink to this headline">¶</a></h2>
<p>The following command will take the data from rts_gmlc based Wind data file, and launch the
simulations with n = 5 and seed = 1234 from forecasts to actuals using an ARMA base process.
It will compute the distribution from 2020-2-1 00:00:00 to 2020-5-1 00:00:00 and simulate from
2020-2-2 00:00:00 to 2020-3-2 00:00:00. Finally, it will return a plot of simulations,
and create an output dir called “wind_forecasts_actuals”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">mape_maker</span> <span class="o">-</span><span class="n">xf</span> <span class="s2">&quot;mape_maker/samples/based_rts_gmlc/Wind_rts_gmlc_based/processed_file.csv&quot;</span> <span class="o">-</span><span class="n">f</span> <span class="s2">&quot;actuals&quot;</span> <span class="o">-</span><span class="n">s</span> <span class="mi">1234</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">-</span><span class="n">bp</span> <span class="s2">&quot;ARMA&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="s2">&quot;wind_forecasts_actuals&quot;</span> <span class="o">-</span><span class="ow">is</span> <span class="s2">&quot;2020-2-1 00:00:00&quot;</span> <span class="o">-</span><span class="n">ie</span> <span class="s2">&quot;2020-5-1 00:00:00&quot;</span> <span class="o">-</span><span class="n">ss</span> <span class="s2">&quot;2020-2-2 00:00:00&quot;</span> <span class="o">-</span><span class="n">se</span> <span class="s2">&quot;2020-3-2 00:00:00&quot;</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>-xf “mape_maker/samples/based_rts_gmlc/Wind_rts_gmlc_based/processed_filecsv”</strong>:</li>
</ul>
<blockquote>
<div>The csv file containing forecasts and actuals for specified datetime.</div></blockquote>
<ul class="simple">
<li><strong>-f “actuals”</strong>:</li>
</ul>
<blockquote>
<div>Set up the the target of the simulation as “actuals”. So the MapeMaker will simulate the “actuals” data
according to the “forecasts” data in the input file.</div></blockquote>
<ul class="simple">
<li><strong>-n 5</strong>:</li>
</ul>
<blockquote>
<div>The number of simulations that we want to create is “5”. This will create three simulation columns in the output file.</div></blockquote>
<ul class="simple">
<li><strong>-bp “ARMA”</strong>:</li>
</ul>
<blockquote>
<div>Use “ARMA” as the base process.</div></blockquote>
<ul class="simple">
<li><strong>-o “wind_forecasts_actuals”</strong>:</li>
</ul>
<blockquote>
<div>Create an output directory called “wind_forecasts_actuals” in the temporary subdirectory, in which will store the simulation output file.
The program prints the temporary subdirectory in the temporary directory. The user can retrieve the output dir using that location.</div></blockquote>
<ul class="simple">
<li><strong>-s 1234</strong>:</li>
</ul>
<blockquote>
<div>Set the seed as “1234”, so it won’t randomly choose a number as the seed.</div></blockquote>
<ul class="simple">
<li><strong>-is “2020-2-1 00:00:00”</strong>:</li>
</ul>
<blockquote>
<div>The start date for the computation of the distributions is “2020-2-1 00:00:00”</div></blockquote>
<ul class="simple">
<li><strong>-ie “2020-5-1 00:00:00”</strong>:</li>
</ul>
<blockquote>
<div>The end date for the computation of the distributions is “2020-5-1 00:00:00”</div></blockquote>
<ul class="simple">
<li><strong>-ss “2020-2-2 00:00:00”</strong>:</li>
</ul>
<blockquote>
<div>The start date of the simulation is “2020-2-2 00:00:00”</div></blockquote>
<ul class="simple">
<li><strong>-se “2020-3-2 00:00:00”</strong>:</li>
</ul>
<blockquote>
<div>The end date of the simulation is “2020-3-2 00:00:00”</div></blockquote>
<p>After running the command line, you should see a similar plot like this:</p>
<div class="figure align-center">
<img alt="../_images/wind_forecast_actual.png" src="../_images/wind_forecast_actual.png" />
</div>
</div>
<div class="section" id="example-2-bus-220-load-zone2-forecasts-actuals-csv">
<h2>Example 2 - Bus_220_Load_zone2_forecasts_actuals.csv<a class="headerlink" href="#example-2-bus-220-load-zone2-forecasts-actuals-csv" title="Permalink to this headline">¶</a></h2>
<p>The following command will take the data from <em>Bus_220_Load_zone2_forecasts_actuals.csv</em>,
and launch the simulations with n = 5 and seed = 1234 from forecasts to actuals using an ARMA
base process. It will simulate all the dates in the input files. Finally, it will return a
plot of simulations, and create an output dir called “Bus_220_load”.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">mape_maker</span> <span class="o">-</span><span class="n">xf</span> <span class="s2">&quot;mape_maker/samples/rts_gmlc/Bus_220_Load_zone2_forecasts_actuals.csv&quot;</span> <span class="o">-</span><span class="n">f</span> <span class="s2">&quot;actuals&quot;</span> <span class="o">-</span><span class="n">n</span> <span class="mi">5</span> <span class="o">-</span><span class="n">bp</span> <span class="s2">&quot;ARMA&quot;</span> <span class="o">-</span><span class="ow">is</span> <span class="s2">&quot;2020-1-10 1:0:0&quot;</span> <span class="o">-</span><span class="n">ie</span> <span class="s2">&quot;2020-7-20 0:0:0&quot;</span> <span class="o">-</span><span class="n">ss</span> <span class="s2">&quot;2020-6-1 0:0:0&quot;</span> <span class="o">-</span><span class="n">se</span> <span class="s2">&quot;2020-6-30 23:0:0&quot;</span> <span class="o">-</span><span class="n">o</span> <span class="s2">&quot;Bus_220_load&quot;</span> <span class="o">-</span><span class="n">s</span> <span class="mi">1234</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>-xf “mape_maker/samples/rts_gmlc/Bus_220_Load_zone2_forecasts_actuals.csv”</strong>:</li>
</ul>
<blockquote>
<div>The csv file containing forecasts and actuals for specified datetimes.</div></blockquote>
<ul class="simple">
<li><strong>-f “actuals”</strong>:</li>
</ul>
<blockquote>
<div>Set up the the target of the simulation as “actuals”. So the MapeMaker will simulate the “actuals” data
according to the “forecasts” data in the input file.</div></blockquote>
<ul class="simple">
<li><strong>-n 5</strong>:</li>
</ul>
<blockquote>
<div>The number of simulations that we want to create is “5”. This will create three simulation columns in the output file.</div></blockquote>
<ul class="simple">
<li><strong>-bp “ARMA”</strong>:</li>
</ul>
<blockquote>
<div>Use “ARMA” as the base process. The default base process is set as “ARMA”.</div></blockquote>
<ul class="simple">
<li><strong>-is “2020-1-10 1:0:0”</strong>:</li>
</ul>
<blockquote>
<div>The start date of the input data for processing is “2020-1-10 1:0:0”</div></blockquote>
<ul class="simple">
<li><strong>-ie “2020-7-20 0:0:0”</strong>:</li>
</ul>
<blockquote>
<div>The end date of the input data for processing is “2020-7-20 0:0:0”</div></blockquote>
<ul class="simple">
<li><strong>-ss “2020-6-1 0:0:0”</strong>:</li>
</ul>
<blockquote>
<div>The start date of the scenario simulation is “2020-6-1 0:0:0”</div></blockquote>
<ul class="simple">
<li><strong>-ed “2020-6-30 23:0:0”</strong>:</li>
</ul>
<blockquote>
<div>The end date of the scenario simulation is “2020-6-30 23:0:0”</div></blockquote>
<ul class="simple">
<li><strong>-o “Bus_220_load”</strong>:</li>
</ul>
<blockquote>
<div>Create an output directory called “Bus_220_load”, in which will store the simulation output file.</div></blockquote>
<ul class="simple">
<li><strong>-s 1234</strong>:</li>
</ul>
<blockquote>
<div>Set the seed as “1234”, so it won’t randomly choose a number as the seed.</div></blockquote>
<p>After running the command line, you should see a similar plot like this:</p>
<div class="figure align-center">
<img alt="../_images/bus_220_load.png" src="../_images/bus_220_load.png" />
</div>
<p>Since rts_gmlc Load data has very little relative error and hence very little mape,
the scenario lines tend to overlap in the plot.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Mape_Maker</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="citing.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="input.html">Input</a></li>
<li class="toctree-l1"><a class="reference internal" href="options.html">Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="wind_example.html">CAISO wind data file examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="demand_example.html">Demand data file examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="operational_example.html">Operational Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="second_file_example.html">Second File Example</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using rts_gmlc data file as input for MapeMaker</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#example-1-wind-forecasts-actuals-csv">Example 1 - WIND_forecasts_actuals.csv</a></li>
<li class="toctree-l2"><a class="reference internal" href="#example-2-bus-220-load-zone2-forecasts-actuals-csv">Example 2 - Bus_220_Load_zone2_forecasts_actuals.csv</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="unittest_example.html">Unit Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="infeasible_example.html">Infeasible_example</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="second_file_example.html" title="previous chapter">Second File Example</a></li>
      <li>Next: <a href="unittest_example.html" title="next chapter">Unit Tests</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, David L. Woodruff, Guillaume Goujard, Yifei Chen, Sukhmandeep Kaur.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.8</a>
      
      |
      <a href="../_sources/sections/rts_example.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>